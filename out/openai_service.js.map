{"version":3,"file":"openai_service.js","sourceRoot":"","sources":["../src/openai_service.ts"],"names":[],"mappings":"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"}